# MeetingCanvas 技术说明文档

## 模块接口说明

### 1. 绘图系统模块
- **drawCircle**: 核心绘图函数，实现连续线条绘制
- **touch_event_handler**: 触摸事件处理主函数
- **interpolation**: 插值算法实现函数

### 2. 用户管理模块
- **register_user**: 用户注册功能
- **login_user**: 用户登录验证

### 3. 文件操作模块
- **appendArrayToFile**: 画作保存功能
- **readArrayFromFile**: 画作加载功能

## 数据结构说明

### 1. 绘图数据结构
```c
struct Point {
  int x;
  int y;
  int pressure; // 压力值
};
```

### 2. 用户数据结构
```c
struct User {
  char username[32];
  char password[32];
  int drawing_count;
};
```

### 3. 撤销/重做链表
```c
struct WithdrawNode {
  struct Point *data;
  struct WithdrawNode *prev;
  struct WithdrawNode *next;
};
```

## 关键技术说明
1. **帧缓冲操作**: 通过mmap映射/dev/fb0实现直接像素操作
2. **触摸事件处理**: 解析/dev/input/eventX获取坐标和压力值
3. **二进制文件存储**: 使用fwrite/fread实现画作数据持久化
4. **内存管理**: 动态分配绘图数据缓冲区